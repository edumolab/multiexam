<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<!-- Font Awesome -->
<link
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
  rel="stylesheet"
/>
<!-- Google Fonts -->
<link
  href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
  rel="stylesheet"
/>
<!-- MDB -->
<link
  href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.2.0/mdb.min.css"
  rel="stylesheet"
/>
	<title>Auth Page</title>
	<style>
		body{
			background-color: rgb(83, 53, 110);
			color:white;
		}

		form{
			background-color: rgb(55, 8, 99);
		}

		#alert{
			display: none;
		}
	</style>
	
	<script type="text/javascript">
		function preventBack(){window.history.forward()};
		setTimeout("preventBack()",0);
		window.onunload=function(){null;}
	</script>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-md-12 mt-5 py-5">
				<h3 class="text-center py-2">Login Form</h3>
				<form id="login-form" class="rounded shadow-sm d-flex flex-column px-4 py-5">
					<p id="alert" class="py-1 rounded text-center" style="background-color:rgba(197, 8, 71, 0.993);color:white"></p>
					<div>
					  <label for="email">Email</label>
					  <input class="form-control" type="email" id="email" name="email" required>
					</div>
					<div>
					  <label for="password">Password</label>
					  <input class="form-control" type="password" id="password" name="password" minlength="6" required>
					</div>
					<div id="remember-me" class="mt-4">
						<label>Remember me</label>
						<input class="checkbox" type="checkbox">
					</div>
					<button class="btn btn-primary my-4" type="submit">Login</button>
					<a class="text-white pt-3 text-center style="font-size: 10px;" href="https://t.me/javlon_developer" target="_blank">Biz bilan bog'lanish</a>
				  </form>
			</div><!---Login-ends-->
		</div>
	</div>
	
	  

	

	 
	 
<script type="module">
	import { initializeApp } from "https://www.gstatic.com/firebasejs/9.20.0/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.20.0/firebase-auth.js";

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyCPcm6WOfOOwzKBRBqNxgB71ea2TduQ-Qg",
  authDomain: "exam-online-384406.firebaseapp.com",
  projectId: "exam-online-384406",
  storageBucket: "exam-online-384406.appspot.com",
  messagingSenderId: "685614981927",
  appId: "1:685614981927:web:3cba11674fdc0391723f02",
  measurementId: "G-B2P1J1FSK7"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
	// Import the functions you need from the SDKs you need

// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries




		const emailInput = document.querySelector('#email');
		const passwordInput = document.querySelector('#password');
		const rememberMeCheckbox = document.querySelector('#remember-me');


  const loginForm = document.querySelector('#login-form');
  loginForm.addEventListener('submit', async (event) => {
    event.preventDefault();

    try {
      // Sign in user with email and password
      const { user } = await signInWithEmailAndPassword(auth, emailInput.value, passwordInput.value);

	   // If user checked "remember me", save email and password to localStorage
	   if (rememberMeCheckbox.checked) {
      localStorage.setItem('email', emailInput.value);
      localStorage.setItem('password', passwordInput.value);
    } else {
      // Otherwise, remove email and password from localStorage
      localStorage.removeItem('email');
      localStorage.removeItem('password');
    }

      // Redirect user to dashboard or show success message
      console.log('User logged in:', user);
	  window.location.href="https://multiexam.vercel.app/home.html"
    } catch (error) {
      console.error(error);
	  document.getElementById("alert").style.display="block"
      document.getElementById("alert").innerHTML="Invalid Login Credential"
    }
  });

  // Check if email and password are saved in localStorage and fill the input fields
const savedEmail = localStorage.getItem('email');
const savedPassword = localStorage.getItem('password');
if (savedEmail && savedPassword) {
  emailInput.value = savedEmail;
  passwordInput.value = savedPassword;
  rememberMeCheckbox.checked = true;
}


</script>
</body>
</html>
